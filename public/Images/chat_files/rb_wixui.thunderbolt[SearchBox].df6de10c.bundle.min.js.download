!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[SearchBox]",["imageClientApi","react","reactDOM"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[SearchBox]"]=t(require("@wix/image-kit"),require("react"),require("react-dom")):e["rb_wixui.thunderbolt[SearchBox]"]=t(e.__imageClientApi__,e.React,e.ReactDOM)}("undefined"!=typeof self?self:this,(function(e,t,n){return function(){var o={42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},95561:function(e){"use strict";e.exports=n},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={exports:{}};return o[e](n,n.exports,r),n.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return function(){"use strict";r.r(l),r.d(l,{components:function(){return wt}});var e=r(448),t=r.n(e),n=r(5329),o=r.n(n);function a(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=a(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}var s=function(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=a(e))&&(o&&(o+=" "),o+=t);return o};const i=13,c=27,u=38,d=40;function g(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}const m=g(32),p=g(i),f=e=>{p(e),m(e)},h=(g(c),"has-custom-focus"),v=()=>"undefined"!=typeof window,b=e=>Object.entries(e).reduce(((e,[t,n])=>(t.includes("data-")&&(e[t]=n),e)),{});const y=(...e)=>e.map((e=>e?`wixui-${e}`:"")).join(" ");var E={root:"search-bar",icon:"search-bar__icon",input:"search-bar__input"},S="HlRz5e",C=r(42662);const{STATIC_MEDIA_URL:w}=C,x=({fittingType:e,src:t,target:n,options:o})=>{const a=C.getPlaceholder(e,t,n,Object.assign(Object.assign({},o),{autoEncode:!0}));return(null==a?void 0:a.uri)&&!/^[a-z]+:/.test(a.uri)&&(a.uri=`${w}${a.uri}`),a},O=/^[a-z]+:/;var L=e=>{var t,o;const{id:a,containerId:r,uri:l,alt:s,name:i="",role:c,width:u,height:d,displayMode:g,devicePixelRatio:m,quality:p,alignType:f,bgEffectName:h="",focalPoint:v,upscaleMethod:b,className:y="",crop:E,imageStyles:C={},targetWidth:L,targetHeight:M,targetScale:N,onLoad:k=(()=>{}),onError:I=(()=>{}),shouldUseLQIP:V,containerWidth:R,containerHeight:T,getPlaceholder:P,isInFirstFold:j,placeholderTransition:_,socialAttrs:D,isSEOBot:A,skipMeasure:B,lazyLoadImgExperimentOpen:F,hasAnimation:q}=e,H=n.useRef(null);let K="";const U="blur"===_,W=n.useRef(null);if(!W.current)if(P||V||j||A){const e=Object.assign(Object.assign({upscaleMethod:b},p||{}),{shouldLoadHQImage:j,isSEOBot:A});W.current=(P||x)({fittingType:g,src:{id:l,width:u,height:d,crop:E,name:i,focalPoint:v},target:{width:R,height:T,alignment:f,htmlTag:"img"},options:e}),K=!W.current.transformed||j||A?"":"true"}else W.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const X=!A&&(P||V)&&!j&&W.current.transformed,Z=n.useMemo((()=>JSON.stringify(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({containerId:r},r&&{containerId:r}),f&&{alignType:f}),B&&{skipMeasure:!0}),{displayMode:g}),R&&{targetWidth:R}),T&&{targetHeight:T}),L&&{targetWidth:L}),M&&{targetHeight:M}),N&&{targetScale:N}),{isLQIP:X,isSEOBot:A,lqipTransition:_,imageData:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({width:u,height:d,uri:l,name:i,displayMode:g,hasAnimation:q},p&&{quality:p}),m&&{devicePixelRatio:m}),v&&{focalPoint:v}),E&&{crop:E}),b&&{upscaleMethod:b})}))),[r,f,B,g,T,R,L,M,N,X,A,_,u,d,l,i,p,m,v,E,b,q]),z=W.current,Q=null==z?void 0:z.uri,$=null==z?void 0:z.srcset,J=null===(t=z.css)||void 0===t?void 0:t.img,Y=`${S} ${y}`;n.useEffect((()=>{const e=H.current;k&&(null==e?void 0:e.currentSrc)&&(null==e?void 0:e.complete)&&k({target:H.current})}),[]);const G=z&&!(null==z?void 0:z.transformed)?`max(${u}px, 100%)`:L?`${L}px`:null;return n.createElement("wow-image",{id:a,class:Y,"data-image-info":Z,"data-bg-effect-name":h,"data-has-ssr-src":K,"data-animate-blur":!A&&X&&U?"":void 0,style:G?{"--wix-img-max-width":G}:{}},n.createElement("img",Object.assign({src:Q,ref:H,alt:s||"",role:c,style:Object.assign(Object.assign({},J),C),onLoad:k,onError:I},R&&{width:R},T&&{height:T},D,j?{srcSet:null===(o=null==$?void 0:$.dpr)||void 0===o?void 0:o.map((e=>O.test(e)?e:`${w}${e}`)).join(", "),fetchpriority:"high"}:F?{loading:"lazy"}:{})))};let M=function(e){return e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Empty=2]="Empty",e[e.Hidden=3]="Hidden",e}({});function N(e){const[t,o]=(0,n.useState)((a=e.image)?a.name?v()?M.Loading:M.Loaded:M.Empty:M.Hidden);var a;return{onError:()=>o(M.Empty),onLoad:()=>o(M.Loaded),thumbnailState:t}}var k="U603xX",I="FedNkl",V="Z3eRZ6",R="UXNCo3",T="D_fVyl",P="CA8K4D",j="zQjJyB";const _=e=>{var t,n,a;let{action:r,id:l,item:i}=e;const{thumbnailState:c,onError:u,onLoad:d}=N(i),g="fit"===(null==(t=i.image)?void 0:t.resizeMode)?"fit":"fill";return o().createElement("div",{className:k,title:i.title,onClick:()=>r()},c!==M.Hidden&&o().createElement("div",{className:s(V,{[R]:c===M.Empty,[T]:c===M.Loading}),"data-testid":"thumbnail"},c!==M.Empty&&o().createElement(L,{alt:i.title,containerId:l,displayMode:g,height:(null==(n=i.image)?void 0:n.height)||55,id:"thumb-"+l,name:i.title,onError:u,onLoad:d,uri:i.image.name,width:(null==(a=i.image)?void 0:a.width)||73})),o().createElement("div",{className:I},o().createElement("span",{className:P,dangerouslySetInnerHTML:{__html:i.title}}),i.description&&o().createElement("p",{className:j,dangerouslySetInnerHTML:{__html:i.description}})))};var D="u6Qhf2",A="Nn5HXB";const B=e=>{let{item:t}=e;return n.createElement("div",{className:D},n.createElement("div",{className:A},n.createElement("span",null,t.title)))};var F="k6cep8",q="Zg1VXg",H="q0F5lM";const K=e=>{let{scrollIntoRef:t,suggestions:o}=e;return n.createElement("div",{className:s(F,{[q]:!(null!=o&&o.footer)}),role:"listbox"},null==o?void 0:o.items.map((e=>{let{action:o,id:a,isActive:r,item:l,testId:i,type:c}=e;return n.createElement("div",{"aria-selected":r,className:s({[H]:!!l.url}),"data-testid":i,key:a,ref:r?t:void 0,role:"option"},"item"===c?n.createElement(_,{action:o,id:a,item:l}):n.createElement(B,{action:o,id:a,item:l}))})))};var U;function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},W.apply(this,arguments)}var X=function(e){return n.createElement("svg",W({xmlns:"http://www.w3.org/2000/svg",viewBox:"5 5 14 14"},e),U||(U=n.createElement("path",{fill:"currentColor",d:"m15.683 14.6 3.265 3.265a.2.2 0 0 1 0 .282l-.8.801a.2.2 0 0 1-.283 0l-3.266-3.265a5.961 5.961 0 1 1 1.084-1.084zm-4.727 1.233a4.877 4.877 0 1 0 0-9.754 4.877 4.877 0 0 0 0 9.754z"})))};const Z="search-suggestion-item-";var z="GWiB9A",Q="q6kVwv";const $=e=>{let{children:t,onClick:o}=e;return n.createElement("div",{className:z},n.createElement("button",{className:Q,role:"link","data-testid":"suggestions-show-all-button",onClick:o},t))};var J="g3as8r",Y="TrbL5O",G="h0H1OP";const ee=e=>{let{id:t,onSuggestionsFooterClick:o,query:a,translations:r,useModalSuggestions:l}=e;const s=r.footerSearchAllText+' "'+a+'"',i=()=>{null==o||o({type:"suggestionsFooterClick",compId:t})};return l?n.createElement($,{onClick:i},s):n.createElement("button",{className:J,role:"link","data-testid":"footer-link",onClick:i},n.createElement(X,{className:Y}),n.createElement("span",{className:G},s))};var te="_xpJkc",ne="JK71Yc",oe="oRg3Ie",ae="UaSQpI";const re=e=>{(e=>{let{callback:t,ref:o,elem:a}=e;(0,n.useEffect)((()=>{const e=new ResizeObserver(t);return null!=o&&o.current&&e.observe(o.current),a&&e.observe(a),()=>{e.disconnect()}}),[o,a,t])})({callback:(0,n.useCallback)((()=>{var t,n;const o=null==e||null==(t=e.current)?void 0:t.clientHeight;null==e||null==(n=e.current)||n.style.setProperty("--component-height",o+"px")}),[e]),ref:e})},le=e=>{let{id:t,children:o,parentRef:a,isSuggestionsShown:r,onSuggestionsFooterClick:l,query:i,scrollIntoRef:c,suggestions:u,translations:d,useModalSuggestions:g}=e;return re(a),n.createElement("div",{className:s(te,{[ne]:r})},n.createElement("div",{className:oe},o),r&&n.createElement("div",{className:ae,"aria-hidden":"true"},n.createElement(K,{scrollIntoRef:c,suggestions:u}),(null==u?void 0:u.footer)&&n.createElement(ee,{id:t,onSuggestionsFooterClick:l,query:i,translations:d,useModalSuggestions:g})))};function se(e,t){const{id:o,value:a,onSuggestionGroupSelect:r,onSuggestionSelect:l,suggestions:s}=e,[i,c]=n.useState(-1),u=n.useRef(null);n.useEffect((()=>{u.current&&(null==u.current.scrollIntoView||u.current.scrollIntoView(!1))}),[i]),n.useEffect((()=>{t||c(-1)}),[t]),n.useEffect((()=>{c(-1)}),[a]);const d=n.useMemo((()=>function(e,t){let{id:n,suggestions:o,onSuggestionGroupSelect:a,onSuggestionSelect:r}=e;return null!=o&&o.items?{...o,items:o.items.map(((e,o)=>{const l=e.type,s=[Z,o],i=s.join("");return"image"in e&&e.image&&s.push(e.image.name),{action:()=>{const t={compId:n,syntheticEvent:e};"group"===l?null==a||a({type:"suggestionGroupSelect",...t}):null==r||r({type:"suggestionSelect",...t})},id:s.join("_"),isActive:o===t,item:{...e,url:"group"===l?void 0:e.url},testId:i,type:l}}))}:{...o,items:[]}}({id:o,onSuggestionGroupSelect:r,onSuggestionSelect:l,suggestions:s},i)),[i,o,r,l,s]),g=d.items.filter((e=>e.item.url)),m=g.length,p=g.findIndex((e=>{var t;return e.id===(null==(t=d.items[i])?void 0:t.id)}));return{moveDown:()=>{const e=p<m-1?p+1:0;c(d.items.findIndex((t=>{var n;return t.id===(null==(n=g[e])?void 0:n.id)})))},moveUp:()=>{const e=p>0?p-1:m-1;c(d.items.findIndex((t=>{var n;return t.id===(null==(n=g[e])?void 0:n.id)})))},navigate:()=>{try{var e;null==d||null==(e=d.items)||e[i].action()}catch(e){console.error("Error while navigating",e)}},scrollIntoRef:u,activeOptionIndex:i,suggestionsWithNavigation:d}}const ie=function(e,t,o,a){void 0===a&&(a=!0),(0,n.useEffect)((()=>{const n=e=>{const n=e.target;if(n){for(const e of t){var a;if(e instanceof HTMLElement){if(e&&e.contains(n))return}else if(null!=e&&null!=(a=e.current)&&a.contains(n))return}o()}};return document.addEventListener(e,n,a),()=>{document.removeEventListener(e,n,a)}}),[...t,o,e])};var ce,ue=r(95561);function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},de.apply(this,arguments)}var ge=function(e){return n.createElement("svg",de({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),ce||(ce=n.createElement("path",{d:"m15.071 5 .707.707-6.364 6.363 6.364 6.365-.707.707L8 12.071 15.071 5Z",fill:"currentColor"})))},me="XeX7vS",pe="r_WbdF",fe="ZxQq8q";const he=e=>{let{direction:t,onClick:o}=e;return n.createElement("div",{className:me,"data-testid":"modalSearchSuggestionsCloseButton",onClick:o},n.createElement(ge,{className:s(pe,{[fe]:"rtl"===t})}))};var ve="fuYJV8",be="q4fpr5",ye="WRjDFM";const Ee=()=>n.createElement("div",{className:ve,"data-testid":"suggestions-loader"},n.createElement("svg",{viewBox:"0 0 50 50",className:be},n.createElement("circle",{className:ye,cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"2"})));var Se="RlO8U_",Ce="Q2YYMa",we="oEUJj7",xe="TaFPqR";const Oe=e=>{let{children:t,clearValue:o,closeSuggestions:a,direction:r,id:l,inputRef:s,onSuggestionsFooterClick:i,query:c,scrollIntoRef:u,suggestions:d,suggestionsLoading:g,translations:m,scopedClassName:p}=e;const[f,h]=n.useState();n.useEffect((()=>{const e=document.createElement("div");return document.body.appendChild(e),p&&e.classList.add(p),h(e),()=>{document.body.removeChild(e)}}),[p]);return n.useEffect((()=>{setTimeout((()=>{var e;null==(e=s.current)||e.focus()}),400)}),[]),f?(0,ue.createPortal)(n.createElement("div",{dir:r,className:Se,"data-testid":"modalSearchSuggestions",role:"dialog"},n.createElement("div",{className:Ce},n.createElement(he,{direction:r,onClick:()=>{a(),o()}}),n.createElement("div",{className:we},t)),n.createElement("div",{className:xe,onScroll:()=>{var e;null==(e=s.current)||e.blur()}},n.createElement(K,{scrollIntoRef:u,suggestions:d}),(null==d?void 0:d.footer)&&n.createElement(ee,{id:l,onSuggestionsFooterClick:i,query:c,translations:m,useModalSuggestions:!0}),g&&n.createElement(Ee,null))),f):null},Le=({size:e,...t})=>n.createElement("svg",{viewBox:"0 0 20 20",fill:"currentColor",width:e||"20",height:e||"20",...t},n.createElement("path",{fillRule:"evenodd",d:"M9.5,3 C13.084,3 16,5.916 16,9.5 C16,13.084 13.084,16 9.5,16 C5.916,16 3,13.084 3,9.5 C3,5.916 5.916,3 9.5,3 Z M9.5,4 C6.467,4 4,6.467 4,9.5 C4,12.533 6.467,15 9.5,15 C12.533,15 15,12.533 15,9.5 C15,6.467 12.533,4 9.5,4 Z M10,11 L10,12 L9,12 L9,11 L10,11 Z M10,7 L10,10 L9,10 L9,7 L10,7 Z"}));Le.displayName="ErrorSmall";var Me=Le,Ne="TLWrjM",ke="GIPQqH",Ie="JNgJbf";const Ve=e=>{let{errorMessage:t,errorMessageType:o,shouldShowValidityIndication:a,translations:r,dataHook:l,componentViewMode:s}=e;const i="editor"===s?(null==r?void 0:r.errorMessage)||"Error text displays here.":t;return"inline"===o&&a&&i?n.createElement("div",{"data-hook":l||"inline-error-message",className:Ne},n.createElement(Me,{className:ke}),n.createElement("span",{className:Ie},i)):null};var Re={root:"text-input",inputEl:"text-input__input",inputLabel:"text-input__label"},Te={input:"KvoMHf",hideNumberSpinner:"ErucfC",AppsTextInputSkin:"MpKiNN",appsTextInputSkin:"MpKiNN",inputWrapper:"pUnTVX",prefix:"eXvLsN","validation-indication":"LyB02C",validationIndication:"LyB02C",label:"wPeA6j",hasLabel:"qzvPmW","required-indication":"lPl_oN",requiredIndication:"lPl_oN",ResponsiveTextInputSkin:"ZXdXNL",responsiveTextInputSkin:"ZXdXNL"};const Pe="Please enter a phone number with {digits} digits",je="Please enter between 4 to 17 digits. You can include hyphens (-) or start with a (+), e.g., 555-123-4567 or +(222)987654321",_e="Please enter between 4 to 17 digits. You can include dividers (-), e.g., 555-123-4567.",De=function(e,t,n){void 0===n&&(n=!0);return Array.from(t).reduce(((e,t,n)=>"-"===t?[...e,n]:e),[]).filter(((t,o)=>n?t<=e.length:t<=e.length+o))},Ae=(e,t)=>t.replace("{digits}",""+(e?e.replace(/-/g,"").length:0)),Be=()=>{},Fe=(e,o)=>{var a;const{skin:r,name:l,id:i,className:c="",customClassNames:u=[],dataTestId:d,value:g,inputType:m="text",label:p,placeholder:f,readOnly:v,required:E,isDisabled:S,pattern:C,autoComplete:w,autoComplete_:x,maxLength:O,min:L,max:M,step:N,numberSpinnerHidden:k,shouldShowValidityIndication:I,isValid:V,autoFocus:R,prefix:T,phoneFormat:P="",errorMessageType:j="tooltip",validateValue:_=Be,setValidityIndication:D=Be,onBlur:A=Be,onFocus:B=Be,onKeyPress:F=Be,onInput:q=Be,onValueChange:H=Be,onChange:K=Be,onClick:U=Be,onDblClick:W=Be,onMouseEnter:X=Be,onMouseLeave:Z=Be,ariaAttributes:z,contentRef:Q,translations:$,componentViewMode:J}=e,Y=n.useRef(null);n.useImperativeHandle(o,(()=>({focus:()=>{var e;null==(e=Y.current)||e.focus()},blur:()=>{var e;null==(e=Y.current)||e.blur()},setCustomValidity:t=>{var n,o;"message"===t.type?null==(n=Y.current)||n.setCustomValidity(t.message):null==(o=Y.current)||o.setCustomValidity(((e,t)=>{let{translations:n,phoneFormat:o}=t;switch(e.key){case"PHONE_FORMAT_LENGTH_VALIDATION_ERROR":return Ae(o,(null==n?void 0:n.phoneFormatLengthValidationError)||Pe);case"PHONE_FORMAT_DEFAULT_VALIDATION_ERROR":return(null==n?void 0:n.phoneFormatDefaultValidationError)||je;case"PHONE_FORMAT_COMPLEX_PHONE_DEFAULT_VALIDATION_ERROR":return(null==n?void 0:n.phoneFormatComplexPhoneDefaultValidationError)||_e;default:return e.key}})(t,{translations:e.translations,phoneFormat:e.phoneFormat}))},getValidationMessage:()=>{var e;return null==(e=Y.current)?void 0:e.validationMessage}})));const[G,ee]=n.useState(),te=n.useMemo((()=>"tel"===m&&P?((e,t)=>{const n=De(e,t,!1),o=Array.from(e);return n.forEach((e=>{e<o.length&&o.splice(e,0," ")})),o.join("")})(g,P):g),[g,P,m]),ne=e=>{let{shouldSetValidityIndication:t,shouldCallOnInput:n}=e;return e=>{const{value:o}=e.target;let a=o;if(P){const e=o.length<te.length;if(a=((e,t,n)=>{const o=De(e,t);return o.reduce(((t,a,r)=>{if(" "===e[a])t.splice(a-r,1);else if(" "!==e[a+1]||n)" "===e[a-1]&&n&&(e.split(" ").length-1<o.length?t.splice(a-r,1):t.splice(a-r-1,1));else{const e=1-r;t.splice(a+e,1)}return t}),Array.from(e)).join("")})(o,P,e),a.match(/[^\d]/))return}ee(!0),H(a),_(),t&&D(!1),n&&q(e)}},oe=n.useRef({value:""});n.useEffect((()=>{oe.current.value=g}),[g]),n.useEffect((()=>{var e;oe.current.value=(null==(e=Y.current)?void 0:e.value)||"",setTimeout((()=>{ne({shouldSetValidityIndication:!1,shouldCallOnInput:!1})({target:{value:oe.current.value}})}),0)}),[]);const ae=s(Te[r],c,y(Re.root,...u),{[Te.hasLabel]:!!p,[Te.requiredIndication]:E,[Te.validationIndication]:!!I}),{"aria-label":re,...le}=(({pressed:e,expanded:t,haspopup:n,label:o,live:a,relevant:r,current:l,owns:s,controls:i,roleDescription:c,hidden:u,disabled:d,describedBy:g,labelledBy:m,errorMessage:p,atomic:f,role:h,busy:v,...b}={})=>{const y=b.tabIndex??b.tabindex,E={};return o&&(E["aria-label"]=o),a&&(E["aria-live"]=a),l&&(E["aria-current"]=l),e&&(E["aria-pressed"]=e),"boolean"==typeof u&&(E["aria-hidden"]=u),"boolean"==typeof t&&(E["aria-expanded"]=t),"boolean"==typeof d&&(E["aria-disabled"]=d),"boolean"==typeof f&&(E["aria-atomic"]=f),"boolean"==typeof v&&(E["aria-busy"]=v),"string"==typeof r&&(E["aria-relevant"]=r),"string"==typeof s&&(E["aria-owns"]=s),"string"==typeof i&&(E["aria-controls"]=i),"string"==typeof c&&(E["aria-roledescription"]=c),n&&(E["aria-haspopup"]=n),"number"==typeof y&&(E.tabIndex=y),h&&(E.role=h),g&&(E["aria-describedby"]=g),m&&(E["aria-labelledby"]=m),p&&(E["aria-errormessage"]=p),E})(z);return n.createElement("div",t()({id:i},b(e),{ref:Q,className:ae,"data-testid":d,onClick:e=>{S||U(e)},onDoubleClick:e=>{S||W(e)},onMouseEnter:e=>{S||X(e)},onMouseLeave:e=>{S||Z(e)}}),!!p&&n.createElement("label",{htmlFor:"input_"+i,className:s(Te.label,y(Re.inputLabel))},p),n.createElement("div",{className:Te.inputWrapper},T&&n.createElement("div",{className:Te.prefix},T),n.createElement("input",t()({name:l,ref:Y,id:"input_"+i,className:s(Te.input,h,y(Re.inputEl),{[Te.hideNumberSpinner]:k}),type:m,value:te,onFocus:B,onKeyDown:F,onChange:ne({shouldSetValidityIndication:!0,shouldCallOnInput:!0}),onBlur:e=>{A(e),G&&K({...e,type:"change"}),ee(!1),D(!0)},placeholder:f,readOnly:v,required:E,"aria-required":E,"aria-invalid":I?!V:void 0,pattern:C,maxLength:(()=>{let e=null===O?void 0:O;return P&&(e=P.length),e})(),minLength:P?P.length:void 0,disabled:S,autoComplete:w?"on":x||void 0,step:null===N?void 0:N,min:null===L?void 0:L,max:null===M?void 0:M,autoFocus:R,"aria-label":re||p?re:f},le))),n.createElement(Ve,{errorMessageType:j,errorMessage:null==(a=Y.current)?void 0:a.validationMessage,shouldShowValidityIndication:I,translations:$,componentViewMode:J}))};var qe=n.forwardRef(Fe);const He={left:"onSwipeLeft",right:"onSwipeRight",up:"onSwipeUp",down:"onSwipeDown"},Ke=e=>{if(e.touches&&e.touches.length){const t=e.touches[0];return{x:t.pageX,y:t.pageY}}},Ue={touched:!0,moved:!1,deltaCoords:{x:0,y:0}},We=(e,t,n)=>()=>{let o;const a=e=>{o={...Ue,numOfTouches:e.touches.length,startCoords:Ke(e),startTime:Date.now(),evObj:{...e}}},r=e=>{if(!o)return;const t=Ke(e);if(t){o.startCoords||(o.startCoords=t);const e=o.startCoords.x-t.x,n=o.startCoords.y-t.y;o.moved=!0,o.deltaCoords={x:e,y:n}}},l=()=>{if(o)if(o.endTime=Date.now(),"onTap"===e&&(e=>e.touched&&!e.moved&&1===e.numOfTouches)(o))t(o.evObj);else if((e=>e.moved&&1===e.numOfTouches&&e.endTime-e.startTime<500&&(Math.abs(e.deltaCoords.x)>100||Math.abs(e.deltaCoords.y)>60))(o)){const n=((e,t)=>{let n;return n=Math.abs(e)>Math.abs(t)?e>0?"left":"right":t>0?"up":"down",n})(o.deltaCoords.x,o.deltaCoords.y);e===He[n]&&t(o.evObj)}};return n&&n.current&&(n.current.addEventListener("touchstart",a,{passive:!0}),n.current.addEventListener("touchmove",r,{passive:!0}),n.current.addEventListener("touchend",l,{passive:!0})),()=>{n&&n.current&&(n.current.removeEventListener("touchstart",a),n.current.removeEventListener("touchmove",r),n.current.removeEventListener("touchend",l))}};var Xe;function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ze.apply(this,arguments)}var ze=function(e){return n.createElement("svg",Ze({width:8,height:9,viewBox:"0 0 8 9",xmlns:"http://www.w3.org/2000/svg"},e),Xe||(Xe=n.createElement("path",{d:"M8 1.057 7.293.35 4 3.643.707.35 0 1.057 3.293 4.35 0 7.643l.707.707L4 5.057 7.293 8.35 8 7.643 4.707 4.35 8 1.057Z",fill:"currentcolor"})))},Qe="dHwu5A";const $e=e=>{let{onClick:t,label:o}=e;return n.createElement("div",{"aria-label":o,role:"button",tabIndex:0,className:Qe,"data-testid":"clear-button",onClick:t,onKeyDown:f},n.createElement(ze,null))};var Je="nNn3mc",Ye="LIyiar",Ge="fkomZa",et="LYhw1A",tt="FwtNU8";const nt={autoComplete_:"off",autoComplete:!1,required:!1,shouldShowValidityIndication:!1,skin:"ResponsiveTextInputSkin",validateValueAndShowIndication:()=>{}},ot=e=>{let{autocompleteValue:a,changeValue:r,clearButtonLabel:l,clearValue:i,containerRef:c,id:u,inputRef:d,isDisabled:g,onAutocomplete:m,onBlur:p,onChange:f,onClick:h,onDblClick:v,onFocus:b,onKeyPress:S,placeholder:C,value:w,isModalSuggestionsShown:x}=e;const O=Boolean(w),L=(0,n.useCallback)((e=>{e!==w&&(r(e),null==f||f({type:"change",compId:u,previousValue:w}))}),[u,r,f,w]);(0,n.useEffect)((()=>{const e=document.activeElement;e&&e.id.includes(u)&&!x&&e.dispatchEvent(new FocusEvent("focus"))}),[]);const[M,N,k,I]=(e=>{let{autocompleteValue:t,id:o,onAutocomplete:a,onChange:r,value:l}=e;const[s,i]=(0,n.useState)(!0),c=(0,n.useMemo)((()=>{if(!t||!s)return"";const e=l.toLocaleLowerCase().trimStart();if(!e)return"";const n=t.toLocaleLowerCase();if(!n.startsWith(e)||n===e)return"";const o=t.substr(e.length);return""+l+o}),[t,l,s]),u=(0,n.useCallback)((()=>{r(c),null==a||a({type:"autocomplete",compId:o,previousValue:l})}),[o,c,r,a,l]),d=(0,n.useCallback)((e=>{if(!c)return;const{key:t,currentTarget:n}=e,{selectionStart:o,selectionEnd:a}=n;if("Tab"===t)e.preventDefault(),e.stopPropagation();else if("ArrowRight"!==t||o!==a||o!==l.length)return;u()}),[c,l,u]),g=(0,n.useCallback)((()=>{c&&u()}),[c,u]);return[c,d,e=>{const{scrollLeft:t,scrollWidth:n,clientWidth:o}=e.currentTarget;i(0===t&&n<=o)},g]})({autocompleteValue:a,id:u,onAutocomplete:m,onChange:L,value:w});var V,R,T;return V="onSwipeRight",R=I,T=c,n.useEffect(We(V,R,T),[V,T,R]),o().createElement("div",{className:s(Je,{[Ye]:O})},o().createElement("div",{className:et},M&&o().createElement(qe,t()({},nt,{className:Ge,inputType:"text",id:"search-box-autocomplete-input-"+u,dataTestId:"search-box-autocomplete-input",isDisabled:!0,readOnly:!0,value:M})),o().createElement(qe,t()({},nt,{className:s(tt,y(E.input)),inputType:"search",ariaAttributes:{label:C},id:"search-box-input-"+u,dataTestId:"search-box-input",isDisabled:g,maxLength:100,onBlur:p,onClick:h,onDblClick:v,onFocus:b,onInput:e=>{k(e)},onValueChange:L,onKeyPress:e=>{N(e),null==S||S(e)},placeholder:C,readOnly:g,ref:d,value:w,name:"q"}))),O&&o().createElement($e,{onClick:i,label:l}))};var at="TmqMif";const rt=()=>n.createElement("div",{className:s(at,y(E.icon))},n.createElement(X,null));var lt="aXOBOn",st="KsMOVs",it="ipSfdV",ct="lS0Z88";const ut=e=>{let{autocompleteValue:t,changeValue:a,clearButtonLabel:r,clearValue:l,id:i,inputRef:c,isDisabled:u,onAutocomplete:d,onBlur:g,onChange:m,onClick:p,onDblClick:f,onFocus:v,onKeyPress:b,placeholder:y,searchButtonLabel:E,value:S,isModalSuggestionsShown:C}=e;const w=(0,n.useRef)(null);return o().createElement("div",{className:lt,ref:w},o().createElement("div",{className:st}),o().createElement("div",{className:it,"data-testid":"search-icon"},o().createElement(rt,null)),o().createElement(ot,{containerRef:w,clearButtonLabel:r,isDisabled:u,id:i,inputRef:c,onBlur:g,clearValue:l,onClick:p,onDblClick:f,onFocus:v,onChange:m,onKeyPress:b,onAutocomplete:d,placeholder:y,autocompleteValue:t,changeValue:a,value:S,isModalSuggestionsShown:C}),o().createElement("button",{"aria-label":E,className:s(ct,h),onClick:e=>{e.stopPropagation()},type:"submit"},o().createElement(rt,null)))};var dt="wdVIxK",gt="yu5tzD",mt="shCc15",pt="Btc0MU";const ft=e=>{let{autocompleteValue:t,changeValue:n,clearButtonLabel:a,clearValue:r,dataTestId:l,expandedDesktopSuggestions:i,handleKeyDown:c,handleSubmit:u,id:d,inputRef:g,isDisabled:m,onAutocomplete:p,onBlur:f,onChange:h,onClick:v,onDblClick:b,onFocus:y,onKeyPress:E,placeholder:S,defaultFormAction:C,value:w,isModalSuggestionsShown:x}=e;return o().createElement("form",{className:s(dt,{[pt]:!!i,[gt]:!!t}),"data-testid":l,onSubmit:u,role:"search",action:C,onClick:()=>{var e;return null==(e=g.current)?void 0:e.focus()},onKeyDown:c},o().createElement(ut,{clearButtonLabel:a,isDisabled:m,id:d,inputRef:g,onBlur:f,clearValue:r,onClick:v,onDblClick:b,onFocus:y,onChange:h,onKeyPress:E,onAutocomplete:p,placeholder:S,searchButtonLabel:S,changeValue:n,autocompleteValue:t,value:w,isModalSuggestionsShown:x}),o().createElement("input",{className:mt,type:"submit",tabIndex:-1,"aria-hidden":"true",value:S}))};var ht="QdV_oU",vt="btVOrl",bt="HRqysE";function yt(e){let{searchButtonLabel:t,onFocus:n}=e;return o().createElement("button",{"aria-label":t,className:s(bt,h),onFocus:n,onClick:e=>{e.stopPropagation()}},o().createElement(rt,null))}const Et=(e,a)=>{const{autocompleteEnabled:r,changeValue:l,clearSuggestions:g,closeParentContainer:m=!1,closeSuggestions:p,direction:f,id:h,className:v,customClassNames:S=[],isDisabled:C=!1,isSuggestionsOpen:w=!1,onAutocomplete:x,onBlur:O,onChange:L,onClear:M,onClick:N,onDblClick:k,onFocus:I,onKeyPress:V,onModalSuggestionsClose:R,onModalSuggestionsOpen:T,onMouseEnter:P,onMouseLeave:j,onSubmit:_,onSuggestionsFooterClick:D,placeholder:A="",suggestions:B,suggestionsEnabled:F=!1,suggestionsLoading:q=!1,translations:H,useModalSuggestions:K,defaultFormAction:U,value:W="",layout:X,scopedClassName:Z}=e,z=r&&e.autocompleteValue||"",[Q,$]=(0,n.useState)(!1);(0,n.useImperativeHandle)(a,(()=>({focus:()=>{var e;null==(e=J.current)||e.focus()},blur:()=>{var e;null==(e=J.current)||e.blur()}})));const J=(0,n.useRef)(null),Y=(0,n.useRef)(null),G=(0,n.useRef)(null),{shouldShowSuggestions:ee,resetSuggestionsVisibility:te}=(e=>{let{isSuggestionsOpen:t,parentRef:o,suggestions:a,suggestionsEnabled:r,useModalSuggestions:l}=e;const[s,i]=(0,n.useState)(!0),c=(0,n.useCallback)((()=>{i(!0)}),[]);(0,n.useEffect)(c,[r,t,c]);const u=(0,n.useCallback)((()=>{i(!1)}),[]);return ie("focus",[o],u),ie("click",[o],u),{shouldShowSuggestions:Boolean(r&&t&&(l||s&&a)),resetSuggestionsVisibility:c}})({isSuggestionsOpen:w,parentRef:G,suggestions:B,suggestionsEnabled:F,useModalSuggestions:K});(0,n.useEffect)((()=>{if(K)return ee?null==T||T():null==R||R({closeParentContainer:m}),()=>{null==R||R({closeParentContainer:m})}}),[ee,K]);const{activeOptionIndex:ne,moveDown:oe,moveUp:ae,navigate:re,scrollIntoRef:ce,suggestionsWithNavigation:ue}=se(e,ee),de=()=>{W&&(l(""),g(),null==L||L({type:"change",compId:h,previousValue:W}),null==M||M({type:"clear",compId:h,previousValue:W}))},ge=Boolean(ee&&ue),me=ge&&K,pe=ue.items.filter((e=>{let{type:t}=e;return"item"===t})).length,fe=pe>0?H.numberOfSuggestionsEntries.replace(/{{amount}}/g,""+pe):void 0,he={autocompleteValue:z,changeValue:l,clearButtonLabel:H.clearButtonText,clearValue:de,handleKeyDown:e=>{if(e.keyCode===c&&(ge&&!me?p():me?(p(),de()):de(),e.preventDefault()),ee){const t={[u]:ae,[d]:oe,[i]:-1!==ne?re:void 0}[e.keyCode];t&&(t(),e.preventDefault())}},handleSubmit:e=>{var t;e.preventDefault(),null==(t=J.current)||t.blur(),null==_||_({type:"submit",compId:h})},id:h,isDisabled:C,onAutocomplete:x,onChange:L,onClick:N,onDblClick:k,onKeyPress:V,placeholder:A,defaultFormAction:U,value:W,isModalSuggestionsShown:me},ve="icon-only"===X;return o().createElement("div",t()({id:h},b(e),{dir:f,ref:G,className:s(vt,{[ht]:ee,"search-box-component-focus-ring-visible":Q},v,y(E.root,...S)),onMouseEnter:P,onMouseLeave:j,"aria-live":"polite","aria-label":fe,"data-testid":"search-box-container",tabIndex:-1}),me&&o().createElement(Oe,{id:h,closeSuggestions:p,clearValue:de,inputRef:Y,onSuggestionsFooterClick:D,query:W,scrollIntoRef:ce,suggestions:ue,suggestionsLoading:q,translations:H,direction:f,scopedClassName:Z},o().createElement(ft,t()({},he,{dataTestId:"modal-suggestions-search-box-form",inputRef:Y}))),ve?o().createElement(yt,{searchButtonLabel:A,onFocus:I}):o().createElement(le,{id:h,parentRef:G,useModalSuggestions:K,isSuggestionsShown:ge&&!me,onSuggestionsFooterClick:D,query:W,scrollIntoRef:ce,suggestions:ue,translations:H},o().createElement(ft,t()({},he,{dataTestId:"search-box-form",expandedDesktopSuggestions:ee,inputRef:J,onBlur:e=>{null==O||O(e),$(!1)},onFocus:e=>{null==I||I(e),$(!0),te()}}))))};const St=e=>e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`));var Ct;const wt={SearchBox:{component:o().forwardRef(Et),controller:(Ct=e=>{let{mapperProps:t,controllerUtils:n,stateValues:o}=e;const{compId:a,isMobileView:r,...l}=t,{isScrollingBlocked:s,setSiteScrollingBlocked:i,enableCyclicTabbing:c,disableCyclicTabbing:u,getMenuContainerApiByChildId:d,scopedClassName:g}=o,m={...l,closeSuggestions(){n.updateProps({isSuggestionsOpen:!1,closeParentContainer:!1,suggestionsLoading:!1})},clearSuggestions(){n.updateProps({suggestions:null})},changeValue(e){n.updateProps({value:e})}};return r?{...m,onModalSuggestionsOpen:()=>{s||i(!0,a),c(a)},onModalSuggestionsClose:function(e){let{closeParentContainer:t=!1}=void 0===e?{}:e;if(s&&i(!1,a),t){const e=null==d?void 0:d(a);null==e||e.close(!0)}u(a)},scopedClassName:g}:m},{useComponentProps:(e,t,n)=>{const o=(e=>({...e,updateStyles:t=>{const n=Object.entries(t).reduce(((e,[t,n])=>{return{...e,[(o=t,o.startsWith("--")?t:St(t))]:void 0===n?null:n};var o}),{});e.updateStyles(n)}}))(n);return Ct({mapperProps:e,stateValues:t,controllerUtils:o})}})}}}(),l}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[SearchBox].df6de10c.bundle.min.js.map